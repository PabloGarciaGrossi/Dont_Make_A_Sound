[gd_scene load_steps=8 format=3 uid="uid://gfuj0ehnrm48"]

[ext_resource type="PackedScene" uid="uid://duxhk0dlocol1" path="res://Prefabs/character.tscn" id="1_jy83b"]
[ext_resource type="PackedScene" uid="uid://dvvy8ou4rt3c0" path="res://Prefabs/lightmarker.tscn" id="3_0k8j5"]
[ext_resource type="PackedScene" uid="uid://djemjxvhscygg" path="res://Prefabs/enemy.tscn" id="3_5cuoc"]
[ext_resource type="Script" path="res://Scripts/UI/UI_Manager.gd" id="6_6ltxq"]
[ext_resource type="PackedScene" uid="uid://c27cj23okay8a" path="res://Maps/mapa_ciudad_1.tscn" id="8_t2j6o"]
[ext_resource type="PackedScene" uid="uid://cjgow5cn38qah" path="res://UI/canvas_layer.tscn" id="9_www8l"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_2o1mh"]
vertices = PackedVector2Array(-401, 384, -339, 384, -613, 389, -612, 217, -404, 377, -401, 377, -404, 217, 61, 249, 81, 249, 79, 357, 61, 277, -337, 233, -321, 233, -321, 249, -381, 357, -299, 249, -299, 277, -289, 277, -289, 281, -267, 281, -267, 309, -243, 309, -243, 281, -241, 281, -241, 297, -157, 297, -157, 281, -139, 281, -139, 309, -115, 309, -115, 281, -75, 281, -75, 309, -51, 309, -51, 281, -49, 281, -49, 297, 35, 297, 35, 249, 37, 249, 37, 277, -381, 217, -337, 217, 5, 213, 15, 213, 15, 245, -5, 245, -5, 185, 5, 185, -1, 137, 15, 137, 15, 149, -5, 149, -5, 105, -1, 105, 79, 201, 82, 201, 82, 213, 29, 213, 29, 185, 51, 185, 51, 181, 61, 181, 79, 165, 61, 153, 83, 153, 83, 165, 84, 105, 83, 105, -487, 117, -488, 105, -477, 105, -356, 117, -369, 105, -356, 105, -369, 96, -477, 96, 79, -91, -109, -91, -109, -135, 79, -135, -445, -103, -433, -119, -349, -119, -316, -103, -383, 53, -401, 53, -493, -27, -198, -215, -77, -215, 89, -187, -145, -187, -198, -201, -292, -103, -145, -135, -132, -135, -132, -27, -177, -27, -255, -235, -248, -216, -249, -217, -33, 105, -32, 105, -32, 213, -49, 213, -100, 169, -100, 117, -445, -155, -433, -171, -205, 137, -205, 87, -200, 91, -172, 117, -172, 169, -248, 27, -241, 23, -241, 73, -273, 85, -316, -155, -349, -171, -547, -139, -547, -187, -513, -155, -513, -103, -377, 69, -405, 69, -463, 53, -457, 69, -513, 69, -493, 57, -593, 57, -292, -155, -205, -199, 90, -307, -77, -267, -613, -301, -209, -267, -599, 165, -600, 153, -599, 153, -614, -251, -461, -251, -209, -235, -461, -224, -245, -201, -600, 137, -599, 137, -600, 121, -599, 121, -600, 105, -599, 105, -600, 89, -599, 89, -600, 73, -599, 73, -600, 57, -599, 57, -600, 41, -599, 41, -600, 25, -599, 25, -600, 9, -599, 9, -600, -7, -599, -7, -600, -23, -599, -23, -593, -11, -600, -39, -599, -39, -545, -27, -545, -11, -600, -55, -599, -55, -600, -71, -599, -71, -600, -87, -599, -87, -600, -103, -599, -103, -587, -91, -600, -119, -599, -119, -600, -135, -599, -135, -600, -151, -599, -151, -587, -139, -600, -167, -599, -167, -600, -183, -599, -183, -600, -199, -599, -199, -600, -215, -589, -215, -109, 9, 86, 9, 84, 69, -33, 69, -109, 25, -241, -201, -241, -199, -205, -201, -468, -155, -468, -187, -492, -187, -492, -155, -571, -187, -571, -139, -563, -91, -563, -139, -177, 21, -237, 21, -237, 20, -232, 19, -230, 5, -236, -11, -257, -11, -228, 73, -228, 85, -141, 73, -141, 25, -124, 117, -124, 169, -148, 169, -148, 117, -55, 229, -237, 229, -237, 197, -273, 181, -279, 197, -317, 197, -317, 137, -301, 137, -261, 17, -301, 85, -326, 85, -326, 73, -321, 53, -263, 5, -513, 165, -589, -224, -184, 83, -183, 73, -189, 84, -189, 85, -273, 137, -252, 181, -246, 197)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2), PackedInt32Array(0, 2, 3, 4), PackedInt32Array(4, 5, 0), PackedInt32Array(6, 4, 3), PackedInt32Array(7, 8, 9, 10), PackedInt32Array(11, 12, 13, 14), PackedInt32Array(13, 15, 16, 14), PackedInt32Array(16, 17, 18), PackedInt32Array(18, 19, 20), PackedInt32Array(21, 22, 23, 24), PackedInt32Array(25, 26, 27, 28), PackedInt32Array(29, 30, 31, 32), PackedInt32Array(33, 34, 35, 36), PackedInt32Array(37, 38, 39, 40), PackedInt32Array(14, 41, 42, 11), PackedInt32Array(37, 40, 10, 9), PackedInt32Array(37, 9, 14, 33), PackedInt32Array(21, 24, 25), PackedInt32Array(33, 36, 37), PackedInt32Array(32, 33, 14), PackedInt32Array(29, 32, 14), PackedInt32Array(28, 29, 14), PackedInt32Array(25, 28, 14, 21), PackedInt32Array(20, 21, 14), PackedInt32Array(20, 14, 16, 18), PackedInt32Array(43, 44, 45, 46), PackedInt32Array(43, 46, 47, 48), PackedInt32Array(49, 50, 51, 52), PackedInt32Array(49, 52, 53, 54), PackedInt32Array(55, 56, 57, 58), PackedInt32Array(55, 58, 59, 60), PackedInt32Array(60, 61, 62, 55), PackedInt32Array(63, 55, 62, 64), PackedInt32Array(63, 64, 65, 66), PackedInt32Array(67, 66, 65), PackedInt32Array(67, 65, 68), PackedInt32Array(69, 70, 71, 72), PackedInt32Array(73, 74, 72), PackedInt32Array(73, 72, 71), PackedInt32Array(75, 73, 71, 76), PackedInt32Array(77, 78, 79, 80), PackedInt32Array(81, 82, 83, 84, 85, 86, 87), PackedInt32Array(88, 89, 90, 91, 92), PackedInt32Array(93, 94, 95, 96, 97), PackedInt32Array(98, 99, 100), PackedInt32Array(101, 102, 103, 104, 105, 106), PackedInt32Array(82, 81, 107, 108), PackedInt32Array(109, 110, 111, 112, 113), PackedInt32Array(114, 115, 116, 117), PackedInt32Array(118, 84, 83, 119), PackedInt32Array(120, 121, 122, 123), PackedInt32Array(85, 124, 125, 86), PackedInt32Array(126, 127, 128, 129), PackedInt32Array(130, 129, 128), PackedInt32Array(92, 91, 94, 93, 131, 132), PackedInt32Array(133, 90, 89, 134), PackedInt32Array(135, 133, 134, 136), PackedInt32Array(126, 129, 87), PackedInt32Array(137, 138, 139), PackedInt32Array(140, 135, 136, 141), PackedInt32Array(141, 136, 142, 98), PackedInt32Array(143, 141, 98, 100, 144, 131, 119), PackedInt32Array(139, 145, 146), PackedInt32Array(146, 147, 148), PackedInt32Array(148, 149, 150), PackedInt32Array(150, 151, 152), PackedInt32Array(152, 153, 154), PackedInt32Array(154, 155, 156), PackedInt32Array(156, 157, 158), PackedInt32Array(158, 159, 160), PackedInt32Array(160, 161, 162), PackedInt32Array(162, 163, 164), PackedInt32Array(164, 165, 166, 167), PackedInt32Array(167, 166, 168, 169, 170, 171), PackedInt32Array(169, 172, 173, 170), PackedInt32Array(173, 174, 175, 170), PackedInt32Array(175, 176, 177), PackedInt32Array(177, 178, 179, 180), PackedInt32Array(179, 181, 182), PackedInt32Array(182, 183, 184), PackedInt32Array(184, 185, 186, 187), PackedInt32Array(186, 188, 189), PackedInt32Array(189, 190, 191), PackedInt32Array(191, 192, 193), PackedInt32Array(193, 194, 195), PackedInt32Array(196, 197, 198, 199, 200), PackedInt32Array(144, 201, 202, 131), PackedInt32Array(132, 203, 92), PackedInt32Array(202, 132, 131), PackedInt32Array(108, 107, 204, 205, 143), PackedInt32Array(206, 207, 122, 121), PackedInt32Array(208, 209, 187, 186, 189), PackedInt32Array(170, 210, 211, 120, 123, 87), PackedInt32Array(212, 213, 214, 215), PackedInt32Array(212, 215, 216, 97), PackedInt32Array(97, 216, 217), PackedInt32Array(93, 97, 217, 218, 84), PackedInt32Array(116, 219, 220, 117), PackedInt32Array(221, 222, 200, 199, 101, 106, 223), PackedInt32Array(223, 224, 225, 226, 221), PackedInt32Array(105, 104, 227, 228, 229, 224), PackedInt32Array(230, 231, 232, 233, 234), PackedInt32Array(235, 236, 237, 238, 239, 240), PackedInt32Array(128, 241, 137, 139), PackedInt32Array(128, 139, 146, 130), PackedInt32Array(130, 146, 148), PackedInt32Array(130, 148, 150), PackedInt32Array(130, 150, 152), PackedInt32Array(130, 152, 154), PackedInt32Array(130, 154, 156, 167), PackedInt32Array(167, 156, 158), PackedInt32Array(167, 158, 160), PackedInt32Array(167, 160, 162), PackedInt32Array(167, 162, 164), PackedInt32Array(195, 242, 143), PackedInt32Array(243, 244, 221, 226, 112), PackedInt32Array(245, 243, 112, 246), PackedInt32Array(111, 246, 112), PackedInt32Array(225, 224, 229), PackedInt32Array(113, 225, 229), PackedInt32Array(247, 109, 113, 229, 248), PackedInt32Array(236, 235, 114, 117, 234), PackedInt32Array(86, 126, 87), PackedInt32Array(229, 249, 248), PackedInt32Array(247, 248, 230, 234), PackedInt32Array(117, 247, 234), PackedInt32Array(191, 193, 195, 143, 208), PackedInt32Array(84, 218, 240, 239, 85), PackedInt32Array(123, 81, 87), PackedInt32Array(180, 210, 170, 175, 177), PackedInt32Array(187, 180, 179, 182), PackedInt32Array(187, 182, 184), PackedInt32Array(208, 189, 191), PackedInt32Array(121, 208, 143), PackedInt32Array(206, 121, 143), PackedInt32Array(205, 206, 143), PackedInt32Array(119, 108, 143), PackedInt32Array(119, 131, 118)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-621, 111, -624, -311, 101, -318, 89, 385, -624, 400)])
source_geometry_group_name = &"navigation_polygon_source_group"

[node name="Test" type="Node2D"]

[node name="Character" parent="." instance=ExtResource("1_jy83b")]
position = Vector2(-288, 153)

[node name="Lights" type="Node2D" parent="."]

[node name="Light" parent="Lights" instance=ExtResource("3_0k8j5")]
position = Vector2(-199, 1)
radius = 2.0
varySize = true
minSize = 1.6
maxSize = 2.0
radiusChangesize = 0.15

[node name="Light2" parent="Lights" instance=ExtResource("3_0k8j5")]
position = Vector2(-264, 128)
radius = 2.0
varySize = true
minSize = 1.6
maxSize = 2.0
radiusChangesize = 0.15

[node name="Light3" parent="Lights" instance=ExtResource("3_0k8j5")]
position = Vector2(-39, 162)
radius = 2.0
varySize = true
minSize = 1.6
maxSize = 2.0
radiusChangesize = 0.15

[node name="Enemy" parent="." instance=ExtResource("3_5cuoc")]

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
position = Vector2(-1, -5)
navigation_polygon = SubResource("NavigationPolygon_2o1mh")

[node name="Mapa_Ciudad1" parent="NavigationRegion2D" instance=ExtResource("8_t2j6o")]

[node name="CanvasLayer" parent="." instance=ExtResource("9_www8l")]

[node name="Interface" parent="CanvasLayer" index="0"]
script = ExtResource("6_6ltxq")

[node name="TextureProgressBar" parent="CanvasLayer/Interface/LifeBar" index="0"]
velocity_value_change = 50.0

[connection signal="Sound_Emission" from="Character" to="Enemy" method="_on_character_sound_emission"]
[connection signal="Character_Damage" from="Enemy" to="Character" method="_on_enemy_character_damage"]
[connection signal="Character_Damage" from="Enemy" to="CanvasLayer/Interface/LifeBar/TextureProgressBar" method="_on_enemy_character_damage"]

[editable path="CanvasLayer"]
[editable path="CanvasLayer/Interface"]
[editable path="CanvasLayer/Interface/LifeBar"]
